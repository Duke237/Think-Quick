{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import'../styles/Clock.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;/*\r\n Minimal, premium game-show clock:\r\n - Fullscreen, centered circular clock only (no extra text)\r\n - Voice start: \"start\" | \"go\" | \"begin\"\r\n - Single fallback Start button shown only if voice unsupported or denied\r\n - Smooth animation (requestAnimationFrame), ticking sound per second, buzzer at end\r\n - Proper cleanup for RAF and SpeechRecognition\r\n*/export default function Clock(){let{initialSeconds=25,onExpire}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const[secondsLeft,setSecondsLeft]=useState(initialSeconds);const[progress,setProgress]=useState(0);// 0..1 elapsed fraction\nconst[running,setRunning]=useState(false);const[showFallback,setShowFallback]=useState(false);// show fallback Start button\nconst durationRef=useRef(initialSeconds*1000);const startRef=useRef(null);// RAF start timestamp\nconst rafRef=useRef(null);const lastTickRef=useRef(null);const audioCtxRef=useRef(null);const recRef=useRef(null);const allowedToListenRef=useRef(true);const lastRenderRef=useRef(0);// sync props\nuseEffect(()=>{durationRef.current=initialSeconds*1000;setSecondsLeft(initialSeconds);setProgress(0);},[initialSeconds]);// create single AudioContext\nuseEffect(()=>{try{audioCtxRef.current=new(window.AudioContext||window.webkitAudioContext)();}catch(e){audioCtxRef.current=null;}return()=>{try{if(audioCtxRef.current&&audioCtxRef.current.state!=='closed')audioCtxRef.current.close();}catch(e){}audioCtxRef.current=null;};},[]);// tick sound (short)\nfunction tickSound(){const ctx=audioCtxRef.current;if(!ctx)return;try{if(ctx.state==='suspended')ctx.resume().catch(()=>{});const o=ctx.createOscillator();const g=ctx.createGain();o.type='sine';o.frequency.value=1200;o.connect(g);g.connect(ctx.destination);g.gain.setValueAtTime(0.001,ctx.currentTime);g.gain.exponentialRampToValueAtTime(0.12,ctx.currentTime+0.005);o.start();g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+0.06);setTimeout(()=>{try{o.stop();}catch(e){}},90);}catch(e){}}// buzzer at end\nfunction buzzerSound(){const ctx=audioCtxRef.current;if(!ctx)return;try{if(ctx.state==='suspended')ctx.resume().catch(()=>{});const o=ctx.createOscillator();const g=ctx.createGain();o.type='sawtooth';o.frequency.setValueAtTime(160,ctx.currentTime);o.connect(g);g.connect(ctx.destination);g.gain.setValueAtTime(0.001,ctx.currentTime);g.gain.linearRampToValueAtTime(0.28,ctx.currentTime+0.02);o.start();o.frequency.exponentialRampToValueAtTime(50,ctx.currentTime+0.5);g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+0.65);setTimeout(()=>{try{o.stop();}catch(e){}},700);}catch(e){}}// RAF loop (throttled UI updates)\nfunction rafLoop(now){if(!startRef.current)startRef.current=now;const elapsed=now-startRef.current;const t=Math.min(elapsed/durationRef.current,1);const remainingMs=Math.max(durationRef.current-elapsed,0);const remainingS=Math.ceil(remainingMs/1000);// throttle UI updates (~30 fps)\nif(now-lastRenderRef.current>33){setProgress(t);setSecondsLeft(remainingS);lastRenderRef.current=now;}// new second tick detection\nif(lastTickRef.current==null)lastTickRef.current=remainingS;if(remainingS!==lastTickRef.current){lastTickRef.current=remainingS;if(remainingS>0)tickSound();}if(t>=1){// finish\ncancelAnimationFrame(rafRef.current);rafRef.current=null;startRef.current=null;lastTickRef.current=null;setRunning(false);setProgress(1);setSecondsLeft(0);buzzerSound();onExpire===null||onExpire===void 0?void 0:onExpire();// resume voice listening after finish if allowed\ntryStartRecognition();return;}rafRef.current=requestAnimationFrame(rafLoop);}function startTimer(){let secs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(running)return;if(secs!=null&&Number.isFinite(secs)&&secs>0){durationRef.current=secs*1000;setSecondsLeft(secs);}else{durationRef.current=initialSeconds*1000;setSecondsLeft(Math.ceil(durationRef.current/1000));}setRunning(true);lastTickRef.current=null;// stop recognition during run to avoid double triggers\nstopRecognition();// small immediate tick for feedback\ntickSound();// start RAF\nstopRAF();rafRef.current=requestAnimationFrame(rafLoop);}function stopRAF(){if(rafRef.current){cancelAnimationFrame(rafRef.current);rafRef.current=null;}startRef.current=null;lastTickRef.current=null;}// Speech recognition (start on mount)\nfunction tryStartRecognition(){if(!SpeechRecognition){setShowFallback(true);return;}if(recRef.current){try{recRef.current.start();return;}catch(e){/* fallthrough */}}let rec;try{rec=new SpeechRecognition();rec.lang='en-US';rec.interimResults=false;rec.maxAlternatives=1;}catch(e){setShowFallback(true);return;}rec.onresult=e=>{const phrase=(e.results[0][0].transcript||'').toLowerCase();if(/(\\bstart\\b|\\bgo\\b|\\bbegin\\b)/.test(phrase)){// voice detected -> start timer\nstartTimer();setShowFallback(false);}else{// allow numeric start like \"30\"\nconst m=phrase.match(/\\d+/);if(m){const val=Number(m[0]);if(Number.isFinite(val)&&val>0)startTimer(val);}}};rec.onerror=ev=>{if(ev.error==='not-allowed'||ev.error==='service-not-allowed'){// permission denied -> show fallback and stop trying\nsetShowFallback(true);allowedToListenRef.current=false;try{rec.stop();}catch(e){}}else{// transient errors: show fallback but keep trying\nsetShowFallback(true);}};rec.onend=()=>{// auto-restart listening unless permission denied or timer is running\nif(allowedToListenRef.current&&!running){try{rec.start();}catch(e){setShowFallback(true);}}};try{rec.start();recRef.current=rec;setShowFallback(false);}catch(e){setShowFallback(true);}}function stopRecognition(){allowedToListenRef.current=true;// keep ability to restart later\nif(recRef.current){try{recRef.current.onresult=null;recRef.current.onend=null;recRef.current.onerror=null;recRef.current.stop();}catch(e){}// keep recRef.current so we can restart\n}}// start recognizer on mount\nuseEffect(()=>{tryStartRecognition();return()=>{// cleanup\nstopRAF();try{if(recRef.current){recRef.current.onresult=null;recRef.current.onend=null;recRef.current.onerror=null;recRef.current.stop();}}catch(e){}recRef.current=null;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// compute ring dashoffset (decreasing as time passes)\nconst size=480;const stroke=16;const radius=(size-stroke)/2;const circumference=2*Math.PI*radius;const dashoffset=circumference*progress;return/*#__PURE__*/_jsx(\"div\",{className:\"hq-minimal-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hq-minimal-clock\",role:\"timer\",\"aria-live\":\"polite\",\"aria-atomic\":\"true\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"hq-minimal-svg\",viewBox:\"0 0 \".concat(size,\" \").concat(size),width:\"100%\",height:\"100%\",\"aria-hidden\":true,children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"filter\",{id:\"soft\",x:\"-40%\",y:\"-40%\",width:\"200%\",height:\"200%\",children:[/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"8\",result:\"b\"}),/*#__PURE__*/_jsxs(\"feMerge\",{children:[/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"b\"}),/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"SourceGraphic\"})]})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"ringBlue\",x1:\"0\",x2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#02B3FA\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#02B3FA\"})]})]}),/*#__PURE__*/_jsx(\"circle\",{cx:size/2,cy:size/2,r:radius,strokeWidth:stroke,stroke:\"rgba(2,179,250,0.06)\",fill:\"none\"}),/*#__PURE__*/_jsx(\"circle\",{cx:size/2,cy:size/2,r:radius,strokeWidth:stroke,stroke:\"url(#ringBlue)\",strokeLinecap:\"round\",fill:\"none\",style:{strokeDasharray:circumference,strokeDashoffset:dashoffset,filter:'url(#soft)',transition:'stroke-dashoffset 120ms linear'},transform:\"rotate(-90 \".concat(size/2,\" \").concat(size/2,\")\")}),/*#__PURE__*/_jsx(\"circle\",{cx:size/2,cy:size/2,r:radius-stroke-8,fill:\"#010830\",stroke:\"rgba(255,255,255,0.02)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hq-minimal-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hq-minimal-time\",children:String(secondsLeft).padStart(2,'0')}),showFallback&&!running&&/*#__PURE__*/_jsx(\"button\",{className:\"hq-fallback-btn\",\"aria-label\":\"Start fallback\",onClick:()=>startTimer(),children:\"Start\"})]})]})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","SpeechRecognition","window","webkitSpeechRecognition","Clock","initialSeconds","onExpire","arguments","length","undefined","secondsLeft","setSecondsLeft","progress","setProgress","running","setRunning","showFallback","setShowFallback","durationRef","startRef","rafRef","lastTickRef","audioCtxRef","recRef","allowedToListenRef","lastRenderRef","current","AudioContext","webkitAudioContext","e","state","close","tickSound","ctx","resume","catch","o","createOscillator","g","createGain","type","frequency","value","connect","destination","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","setTimeout","stop","buzzerSound","linearRampToValueAtTime","rafLoop","now","elapsed","t","Math","min","remainingMs","max","remainingS","ceil","cancelAnimationFrame","tryStartRecognition","requestAnimationFrame","startTimer","secs","Number","isFinite","stopRecognition","stopRAF","rec","lang","interimResults","maxAlternatives","onresult","phrase","results","transcript","toLowerCase","test","m","match","val","onerror","ev","error","onend","size","stroke","radius","circumference","PI","dashoffset","className","children","role","viewBox","concat","width","height","id","x","y","stdDeviation","result","in","x1","x2","offset","stopColor","cx","cy","r","strokeWidth","fill","strokeLinecap","style","strokeDasharray","strokeDashoffset","filter","transition","transform","String","padStart","onClick"],"sources":["C:/Users/HP/Desktop/projects/Think-Quick/client/src/components/Clock.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport '../styles/Clock.css';\r\n\r\nconst SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n\r\n/*\r\n Minimal, premium game-show clock:\r\n - Fullscreen, centered circular clock only (no extra text)\r\n - Voice start: \"start\" | \"go\" | \"begin\"\r\n - Single fallback Start button shown only if voice unsupported or denied\r\n - Smooth animation (requestAnimationFrame), ticking sound per second, buzzer at end\r\n - Proper cleanup for RAF and SpeechRecognition\r\n*/\r\n\r\nexport default function Clock({ initialSeconds = 25, onExpire } = {}) {\r\n  const [secondsLeft, setSecondsLeft] = useState(initialSeconds);\r\n  const [progress, setProgress] = useState(0); // 0..1 elapsed fraction\r\n  const [running, setRunning] = useState(false);\r\n  const [showFallback, setShowFallback] = useState(false); // show fallback Start button\r\n\r\n  const durationRef = useRef(initialSeconds * 1000);\r\n  const startRef = useRef(null); // RAF start timestamp\r\n  const rafRef = useRef(null);\r\n  const lastTickRef = useRef(null);\r\n  const audioCtxRef = useRef(null);\r\n  const recRef = useRef(null);\r\n  const allowedToListenRef = useRef(true);\r\n  const lastRenderRef = useRef(0);\r\n\r\n  // sync props\r\n  useEffect(() => {\r\n    durationRef.current = initialSeconds * 1000;\r\n    setSecondsLeft(initialSeconds);\r\n    setProgress(0);\r\n  }, [initialSeconds]);\r\n\r\n  // create single AudioContext\r\n  useEffect(() => {\r\n    try { audioCtxRef.current = new (window.AudioContext || window.webkitAudioContext)(); }\r\n    catch (e) { audioCtxRef.current = null; }\r\n    return () => {\r\n      try { if (audioCtxRef.current && audioCtxRef.current.state !== 'closed') audioCtxRef.current.close(); } catch (e) {}\r\n      audioCtxRef.current = null;\r\n    };\r\n  }, []);\r\n\r\n  // tick sound (short)\r\n  function tickSound() {\r\n    const ctx = audioCtxRef.current;\r\n    if (!ctx) return;\r\n    try {\r\n      if (ctx.state === 'suspended') ctx.resume().catch(()=>{});\r\n      const o = ctx.createOscillator();\r\n      const g = ctx.createGain();\r\n      o.type = 'sine';\r\n      o.frequency.value = 1200;\r\n      o.connect(g);\r\n      g.connect(ctx.destination);\r\n      g.gain.setValueAtTime(0.001, ctx.currentTime);\r\n      g.gain.exponentialRampToValueAtTime(0.12, ctx.currentTime + 0.005);\r\n      o.start();\r\n      g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.06);\r\n      setTimeout(()=>{ try { o.stop(); } catch(e){} }, 90);\r\n    } catch (e) {}\r\n  }\r\n\r\n  // buzzer at end\r\n  function buzzerSound() {\r\n    const ctx = audioCtxRef.current;\r\n    if (!ctx) return;\r\n    try {\r\n      if (ctx.state === 'suspended') ctx.resume().catch(()=>{});\r\n      const o = ctx.createOscillator();\r\n      const g = ctx.createGain();\r\n      o.type = 'sawtooth';\r\n      o.frequency.setValueAtTime(160, ctx.currentTime);\r\n      o.connect(g);\r\n      g.connect(ctx.destination);\r\n      g.gain.setValueAtTime(0.001, ctx.currentTime);\r\n      g.gain.linearRampToValueAtTime(0.28, ctx.currentTime + 0.02);\r\n      o.start();\r\n      o.frequency.exponentialRampToValueAtTime(50, ctx.currentTime + 0.5);\r\n      g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.65);\r\n      setTimeout(()=>{ try { o.stop(); } catch(e){} }, 700);\r\n    } catch (e) {}\r\n  }\r\n\r\n  // RAF loop (throttled UI updates)\r\n  function rafLoop(now) {\r\n    if (!startRef.current) startRef.current = now;\r\n    const elapsed = now - startRef.current;\r\n    const t = Math.min(elapsed / durationRef.current, 1);\r\n    const remainingMs = Math.max(durationRef.current - elapsed, 0);\r\n    const remainingS = Math.ceil(remainingMs / 1000);\r\n\r\n    // throttle UI updates (~30 fps)\r\n    if (now - lastRenderRef.current > 33) {\r\n      setProgress(t);\r\n      setSecondsLeft(remainingS);\r\n      lastRenderRef.current = now;\r\n    }\r\n\r\n    // new second tick detection\r\n    if (lastTickRef.current == null) lastTickRef.current = remainingS;\r\n    if (remainingS !== lastTickRef.current) {\r\n      lastTickRef.current = remainingS;\r\n      if (remainingS > 0) tickSound();\r\n    }\r\n\r\n    if (t >= 1) {\r\n      // finish\r\n      cancelAnimationFrame(rafRef.current);\r\n      rafRef.current = null;\r\n      startRef.current = null;\r\n      lastTickRef.current = null;\r\n      setRunning(false);\r\n      setProgress(1);\r\n      setSecondsLeft(0);\r\n      buzzerSound();\r\n      onExpire?.();\r\n      // resume voice listening after finish if allowed\r\n      tryStartRecognition();\r\n      return;\r\n    }\r\n    rafRef.current = requestAnimationFrame(rafLoop);\r\n  }\r\n\r\n  function startTimer(secs = null) {\r\n    if (running) return;\r\n    if (secs != null && Number.isFinite(secs) && secs > 0) {\r\n      durationRef.current = secs * 1000;\r\n      setSecondsLeft(secs);\r\n    } else {\r\n      durationRef.current = initialSeconds * 1000;\r\n      setSecondsLeft(Math.ceil(durationRef.current / 1000));\r\n    }\r\n    setRunning(true);\r\n    lastTickRef.current = null;\r\n    // stop recognition during run to avoid double triggers\r\n    stopRecognition();\r\n    // small immediate tick for feedback\r\n    tickSound();\r\n    // start RAF\r\n    stopRAF();\r\n    rafRef.current = requestAnimationFrame(rafLoop);\r\n  }\r\n\r\n  function stopRAF() {\r\n    if (rafRef.current) {\r\n      cancelAnimationFrame(rafRef.current);\r\n      rafRef.current = null;\r\n    }\r\n    startRef.current = null;\r\n    lastTickRef.current = null;\r\n  }\r\n\r\n  // Speech recognition (start on mount)\r\n  function tryStartRecognition() {\r\n    if (!SpeechRecognition) {\r\n      setShowFallback(true);\r\n      return;\r\n    }\r\n    if (recRef.current) {\r\n      try { recRef.current.start(); return; } catch (e) { /* fallthrough */ }\r\n    }\r\n    let rec;\r\n    try {\r\n      rec = new SpeechRecognition();\r\n      rec.lang = 'en-US';\r\n      rec.interimResults = false;\r\n      rec.maxAlternatives = 1;\r\n    } catch (e) {\r\n      setShowFallback(true);\r\n      return;\r\n    }\r\n\r\n    rec.onresult = (e) => {\r\n      const phrase = (e.results[0][0].transcript || '').toLowerCase();\r\n      if (/(\\bstart\\b|\\bgo\\b|\\bbegin\\b)/.test(phrase)) {\r\n        // voice detected -> start timer\r\n        startTimer();\r\n        setShowFallback(false);\r\n      } else {\r\n        // allow numeric start like \"30\"\r\n        const m = phrase.match(/\\d+/);\r\n        if (m) {\r\n          const val = Number(m[0]);\r\n          if (Number.isFinite(val) && val > 0) startTimer(val);\r\n        }\r\n      }\r\n    };\r\n\r\n    rec.onerror = (ev) => {\r\n      if (ev.error === 'not-allowed' || ev.error === 'service-not-allowed') {\r\n        // permission denied -> show fallback and stop trying\r\n        setShowFallback(true);\r\n        allowedToListenRef.current = false;\r\n        try { rec.stop(); } catch (e) {}\r\n      } else {\r\n        // transient errors: show fallback but keep trying\r\n        setShowFallback(true);\r\n      }\r\n    };\r\n\r\n    rec.onend = () => {\r\n      // auto-restart listening unless permission denied or timer is running\r\n      if (allowedToListenRef.current && !running) {\r\n        try { rec.start(); } catch (e) { setShowFallback(true); }\r\n      }\r\n    };\r\n\r\n    try {\r\n      rec.start();\r\n      recRef.current = rec;\r\n      setShowFallback(false);\r\n    } catch (e) {\r\n      setShowFallback(true);\r\n    }\r\n  }\r\n\r\n  function stopRecognition() {\r\n    allowedToListenRef.current = true; // keep ability to restart later\r\n    if (recRef.current) {\r\n      try { recRef.current.onresult = null; recRef.current.onend = null; recRef.current.onerror = null; recRef.current.stop(); } catch (e) {}\r\n      // keep recRef.current so we can restart\r\n    }\r\n  }\r\n\r\n  // start recognizer on mount\r\n  useEffect(() => {\r\n    tryStartRecognition();\r\n    return () => {\r\n      // cleanup\r\n      stopRAF();\r\n      try { if (recRef.current) { recRef.current.onresult = null; recRef.current.onend = null; recRef.current.onerror = null; recRef.current.stop(); } } catch (e) {}\r\n      recRef.current = null;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // compute ring dashoffset (decreasing as time passes)\r\n  const size = 480;\r\n  const stroke = 16;\r\n  const radius = (size - stroke) / 2;\r\n  const circumference = 2 * Math.PI * radius;\r\n  const dashoffset = circumference * progress;\r\n\r\n  return (\r\n    <div className=\"hq-minimal-wrapper\">\r\n      <div className=\"hq-minimal-clock\" role=\"timer\" aria-live=\"polite\" aria-atomic=\"true\">\r\n        <svg className=\"hq-minimal-svg\" viewBox={`0 0 ${size} ${size}`} width=\"100%\" height=\"100%\" aria-hidden>\r\n          <defs>\r\n            <filter id=\"soft\" x=\"-40%\" y=\"-40%\" width=\"200%\" height=\"200%\">\r\n              <feGaussianBlur stdDeviation=\"8\" result=\"b\"/>\r\n              <feMerge><feMergeNode in=\"b\"/><feMergeNode in=\"SourceGraphic\"/></feMerge>\r\n            </filter>\r\n            <linearGradient id=\"ringBlue\" x1=\"0\" x2=\"1\">\r\n              <stop offset=\"0%\" stopColor=\"#02B3FA\" />\r\n              <stop offset=\"100%\" stopColor=\"#02B3FA\" />\r\n            </linearGradient>\r\n          </defs>\r\n\r\n          {/* outer subtle ring base */}\r\n          <circle cx={size/2} cy={size/2} r={radius} strokeWidth={stroke} stroke=\"rgba(2,179,250,0.06)\" fill=\"none\" />\r\n\r\n          {/* animated glowing ring (stroke-dashoffset increases with progress) */}\r\n          <circle\r\n            cx={size/2} cy={size/2} r={radius}\r\n            strokeWidth={stroke}\r\n            stroke=\"url(#ringBlue)\"\r\n            strokeLinecap=\"round\"\r\n            fill=\"none\"\r\n            style={{\r\n              strokeDasharray: circumference,\r\n              strokeDashoffset: dashoffset,\r\n              filter: 'url(#soft)',\r\n              transition: 'stroke-dashoffset 120ms linear'\r\n            }}\r\n            transform={`rotate(-90 ${size/2} ${size/2})`}\r\n          />\r\n\r\n          {/* inner flat dark circle (no gradient, minimal) */}\r\n          <circle cx={size/2} cy={size/2} r={radius - stroke - 8} fill=\"#010830\" stroke=\"rgba(255,255,255,0.02)\" />\r\n        </svg>\r\n\r\n        {/* only visible content: time value */}\r\n        <div className=\"hq-minimal-center\">\r\n          <div className=\"hq-minimal-time\">{String(secondsLeft).padStart(2, '0')}</div>\r\n\r\n          {/* fallback start button ONLY shown when needed and only when not running */}\r\n          {showFallback && !running && (\r\n            <button\r\n              className=\"hq-fallback-btn\"\r\n              aria-label=\"Start fallback\"\r\n              onClick={() => startTimer()}\r\n            >\r\n              Start\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}